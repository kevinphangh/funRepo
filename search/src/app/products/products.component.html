<div>
    <app-product-search (searchTextChanged)="onSearchTextEntered($event)"></app-product-search>
</div>

<ng-container *ngIf="products | async as products">
  <div *ngFor="let product of filteredAndSlicedProducts(products)">
    <div class="product-container" *ngIf="searchText === '' || product.title.toLowerCase().includes(searchText)">
      <div class="product-card">
        <div>
          <p>{{product.title}}</p>
        </div>
      </div>
    </div>
  </div>
</ng-container>

<div class="pagination">
    <button [disabled]="currentPage === 1" (click)="currentPage = currentPage - 1">Previous</button>
    <span>{{currentPage}} / {{getTotalPages((products | async)!)}}</span>
    <button [disabled]="(currentPage * productsPerPage) >= ((products | async)?.length ?? 0)" (click)="currentPage = currentPage + 1">Next</button>
</div>
